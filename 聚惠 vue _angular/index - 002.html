<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"/>
</head>
<body>

<ul id="app">
    <li v-for="itm in datas.items" v-on:click="clickIndex(itm.id)">
                         <!-- 数据绑定 -->
        <a href="#"><img v-bind:src="'http://juhuituan.boguyuan.com/juhuituan'+itm.img"></a>
        
                         <!-- 取数据 -->
        <h3 class="titie">{{itm.ti}}</h3>
    </li>
</ul>



<script type="text/javascript" src="js/vue.js"></script>
<script type="text/javascript">
     // 一
    var vue = new Vue(
    {
        el:"#app",
        data:{datas:""},

        created:function (argument) 
        {
            var that = this;//data
            
            // 二
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () 
            {
                if (xhr.readyState==4) 
                {
                    that.datas = JSON.parse(xhr.responseText).data;
                }
            }


            // 三
            xhr.open("POST","http://juhuituan.boguyuan.com/juhuituan/reqData?",true);
            xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");


            //具体参数 发送请求
            xhr.send("action=listPro&acode=1&uid=25177&type=1");
        },

        methods:{
        clickIndex (Index) 
            {
                // console.log(Index);

                var xhr = new XMLHttpRequest();
                xhr.onreadystatechange = function () 
                {
                    if (xhr.readyState==4) 
                    {
                        datas = JSON.parse(xhr.responseText).data;
                        console.log(datas);
                    }
                };

                xhr.open("POST","http://juhuituan.boguyuan.com/juhuituan/reqData?",true);

                xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");

                xhr.send("action=viewPro&acode=1&uid=25177&id=" +Index);
            }
        }
    });
</script>



</body>
</html>